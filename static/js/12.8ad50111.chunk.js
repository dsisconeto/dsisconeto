(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[12],{608:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(601),o=n(602),i=n(604),u=n(635),l=n(605),s=n(217);t.a=function(e){var t=e.header,n=e.children,a=e.alertModel;return r.a.createElement("div",{className:"animated fadeIn"},r.a.createElement(c.a,null,r.a.createElement(o.a,{xs:"12",sm:"12"},r.a.createElement(i.a,null,r.a.createElement(u.a,null,t),r.a.createElement(l.a,null,r.a.createElement(s.a,{alertModel:a}),n)))))}},609:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));var a=n(611),r=n.n(a),c=n(612),o=n(214),i=n(614),u=n.n(i);function l(e){var t=u.a.stringify(e);return o.a.get("/empresas?"+t)}function s(e){return e.replaceAll("-","").replaceAll("/","").replaceAll(".","")}function f(e){return e.replaceAll("-","").replaceAll(" ","").replaceAll(")","").replaceAll("(","")}function m(e){return e.cnpj=s(e.cnpj),e.telefone=f(e.telefone),o.a.post("/empresas",e)}function d(e,t){t.cnpj=s(t.cnpj),t.telefone=f(t.telefone);var n="/empresas/"+e;return o.a.put(n,t)}function p(e){var t="/empresas/"+e;return o.a.delete(t)}function b(e){var t="/empresas/"+e;return o.a.get(t)}function g(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/empresas/busca-para-autocomplete?termo="+t);case 2:return n=e.sent,e.abrupt("return",n.data.map((function(e){return{value:e.id,label:"".concat(e.id," - ").concat(e.nome)}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(625);function r(e){return a.DateTime.fromFormat(e,"dd/MM/yyyy").isValid}function c(e){return a.DateTime.fromFormat(e,"dd/MM/yyyy").toISODate()}function o(e){return a.DateTime.fromISO(e).toFormat("dd/MM/yyyy")}function i(e){return a.DateTime.fromFormat(e,"H:mm").isValid}},618:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p}));var a=n(613),r=n(214),c=n(610),o=n(626),i=n.n(o);function u(e){var t=e.pageRequest,n=e.empresaId;return r.a.get("/linhas",{params:Object(a.a)(Object(a.a)({},t),{},{empresaId:n})})}function l(e){return f(e=i.a.cloneDeep(e)),r.a.post("/linhas",e)}function s(e){return Object(c.b)(e.partida)&&Object(c.b)(e.chegada)}function f(e){e.diasUnicos=e.diasUnicos.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{horarios:e.horarios.filter(s)})})).filter((function(e){return Object(c.a)(e.data)&&0!==e.horarios.length})).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{data:Object(c.d)(e.data)})})),e.segunda=e.segunda.filter(s),e.terca=e.terca.filter(s),e.quarta=e.quarta.filter(s),e.quinta=e.quinta.filter(s),e.sexta=e.sexta.filter(s),e.sabado=e.sabado.filter(s),e.domingo=e.domingo.filter(s)}function m(e,t){return f(t=i.a.cloneDeep(t)),r.a.put("".concat("/linhas","/").concat(e),t)}function d(e){return r.a.get("".concat("/linhas","/consulta-para-editar/").concat(e))}function p(e){var t="/linhas/"+e;return r.a.delete(t)}},623:function(e,t,n){"use strict";function a(){return{content:[],number:0,size:0,totalElements:0,totalPages:0}}function r(){return{page:0,size:5}}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},674:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a=n(613),r=n(126),c=n(0),o=n.n(c),i=n(218),u=n(623),l=n(618),s=n(21),f=n(640),m=n.n(f),d=n(608),p=n(636),b=n.n(p),g=n(601),h=n(602),j=n(664),O=n(645),E=n(609);function v(e){var t=Object(c.useState)(!0),n=Object(r.a)(t,2),s=n[0],f=n[1],m=Object(c.useState)(Object(u.a)()),p=Object(r.a)(m,2),v=p[0],I=p[1],w=Object(c.useState)(void 0),D=Object(r.a)(w,2),M=D[0],P=D[1],S=Object(c.useState)({empresaId:"",pageRequest:Object(u.b)()}),A=Object(r.a)(S,2),C=A[0],N=A[1];Object(c.useEffect)((function(){Object(l.b)(C).then((function(e){I(e.data),f(!1)})).catch((function(e){f(!1),P(Object(i.a)(e))}))}),[s,C]),v.content.forEach((function(e){e.action=o.a.createElement(y,{onDelete:function(){return f(!0)},linhaId:e.id.toString()})}));return o.a.createElement(d.a,{header:o.a.createElement(q,e),alertModel:M},o.a.createElement(g.a,null,o.a.createElement(h.a,{md:12},o.a.createElement(j.a,{for:"empresaId"},"Selecione uma Empresa"),o.a.createElement(O.a,{cacheOptions:!0,name:"empresaId",isClearable:!0,id:"empresaId",loadOptions:E.a,onChange:function(e){C.empresaId=e?e.value:"",C.pageRequest.page=0,N(Object(a.a)({},C))}}))),o.a.createElement(b.a,{noHeader:!0,columns:[{name:"#",selector:"id",sortable:!1,width:"80px"},{name:"Nome",selector:"nome",sortable:!1},{name:"Empresa",selector:"empresa",sortable:!1},{name:"A\xe7\xf5es",selector:"action",sortable:!1}],data:v.content,progressPending:s,pagination:!0,paginationRowsPerPageOptions:[5,50,500],paginationPerPage:5,striped:!0,paginationServer:!0,paginationTotalRows:v.totalElements,onChangeRowsPerPage:function(e,t){C.pageRequest.size=e,N(Object(a.a)({},C))},onChangePage:function(e,t){C.pageRequest.page=e-1,N(Object(a.a)({},C))}}))}function y(e){var t=e.linhaId,n=e.onDelete,a=Object(s.k)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{color:"primary",className:"mr-2",onClick:function(){return a.push("/linhas/".concat(t,"/editar"))}},o.a.createElement("i",{className:"fas fa-pencil-alt"})),o.a.createElement(m.a,{color:"danger",onClick:function(){window.confirm("Confirme que voc\xea quer deletar a linha")&&Object(l.d)(t).then((function(){return n()}))}},o.a.createElement("i",{className:"fas fa-trash"})))}function I(e){var t=e.history;return o.a.createElement(m.a,{color:"success",className:"float-right",onClick:function(){return t.push("/linhas/cadastro")}},"Nova")}function q(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fa fa-align-justify"})," Linhas",o.a.createElement(I,e))}}}]);
//# sourceMappingURL=12.8ad50111.chunk.js.map