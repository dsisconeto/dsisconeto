{"version":3,"sources":["pages/Empresa/Editar/index.tsx"],"names":["empresaFormModel","cnpj","email","endereco","nome","representante","telefone","EmpresaEditar","history","id","match","params","useState","initialValues","setInitialValues","isLoading","setIsLoading","undefined","alert","setAlert","useEffect","buscaEmpresaPorId","then","response","data","catch","e","color","message","handleAxiosError","alertModel","header","className","onSubmit","empresa","setSubmitting","editaEmpresa","push"],"mappings":"qPAaMA,EAAqC,CACzCC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,KAAM,GACNC,cAAe,GACfC,SAAU,IAqCGC,UA/BkB,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,QAC3BC,EAD+C,EAAXC,MACjBC,OAAOF,GADqB,EAGXG,mBAASZ,GAHE,mBAG9Ca,EAH8C,KAG/BC,EAH+B,OAInBF,oBAAS,GAJU,mBAI9CG,EAJ8C,KAInCC,EAJmC,OAK3BJ,wBAAiCK,GALN,mBAK9CC,EAL8C,KAKvCC,EALuC,KAOrDC,qBAAU,WACRD,OAASF,GACTI,YAAkBZ,GAAIa,MAAK,SAACC,GAC1BT,EAAiBS,EAASC,MAC1BR,GAAa,MACZS,OAAM,SAAAC,GAAC,OAAIP,EAAS,CAACQ,MAAO,SAAUC,QAASC,YAAiBH,UAElE,CAACjB,IAYJ,OAAQ,kBAAC,IAAD,CAASqB,WAAYZ,EAAOa,OAAQ,wCAAG,uBAAGC,UAAU,wBAAhB,eACxCjB,GAAa,kBAAC,IAAD,CAAakB,SAXf,SAACC,EAAD,GAAmF,IAAtDC,EAAqD,EAArDA,cAC1ChB,OAASF,GACTmB,YAAa3B,EAAIyB,GACdZ,MAAK,kBAAMd,EAAQ6B,KAAK,gBACxBZ,OAAM,SAACC,GACNP,EAAS,CAACQ,MAAO,SAAUC,QAASC,YAAiBH,KACrDS,GAAc,OAK4BtB,cAAeA","file":"static/js/16.f4ce43f3.chunk.js","sourcesContent":["import React, {FC, useEffect, useState} from 'react';\nimport {RouteComponentProps} from 'react-router';\n\nimport {AxiosError} from 'axios';\nimport EmpresaFormModel from '../../../domain/empresa/EmpresaFormModel';\nimport {FormikHelpers} from 'formik';\nimport {buscaEmpresaPorId, editaEmpresa} from \"../../../domain/empresa/EmpresaService\";\nimport AppPage from \"../../../components/AppPage\";\nimport AlertModel from \"../../../common/AlertModel\";\nimport handleAxiosError from \"../../../common/handleAxiosError\";\nimport EmpresaForm from \"../Form\";\n\n\nconst empresaFormModel: EmpresaFormModel = {\n  cnpj: '',\n  email: '',\n  endereco: '',\n  nome: '',\n  representante: '',\n  telefone: '',\n};\n\n\ntype Props = RouteComponentProps<{ id: string }>;\n\nconst EmpresaEditar: FC<Props> = ({history, match}) => {\n  const id: string = match.params.id;\n\n  const [initialValues, setInitialValues] = useState(empresaFormModel);\n  const [isLoading, setIsLoading] = useState(true);\n  const [alert, setAlert] = useState<AlertModel | undefined>(undefined);\n\n  useEffect(() => {\n    setAlert(undefined);\n    buscaEmpresaPorId(id).then((response) => {\n      setInitialValues(response.data);\n      setIsLoading(false);\n    }).catch(e => setAlert({color: 'danger', message: handleAxiosError(e)}));\n\n  }, [id]);\n\n  const submit = (empresa: EmpresaFormModel, {setSubmitting,}: FormikHelpers<EmpresaFormModel>) => {\n    setAlert(undefined);\n    editaEmpresa(id, empresa)\n      .then(() => history.push('/empresas'))\n      .catch((e: AxiosError) => {\n        setAlert({color: 'danger', message: handleAxiosError(e)})\n        setSubmitting(false);\n      });\n  };\n\n  return (<AppPage alertModel={alert} header={<> <i className=\"fa fa-align-justify\"/> Empresas</>}>\n    {!isLoading && <EmpresaForm onSubmit={submit} initialValues={initialValues}/>}\n  </AppPage>);\n}\n\nexport default EmpresaEditar;\n"],"sourceRoot":""}