(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[10],{608:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(601),i=t(602),o=t(604),u=t(635),l=t(605),s=t(217);a.a=function(e){var a=e.header,t=e.children,n=e.alertModel;return r.a.createElement("div",{className:"animated fadeIn"},r.a.createElement(c.a,null,r.a.createElement(i.a,{xs:"12",sm:"12"},r.a.createElement(o.a,null,r.a.createElement(u.a,null,a),r.a.createElement(l.a,null,r.a.createElement(s.a,{alertModel:n}),t)))))}},609:function(e,a,t){"use strict";t.d(a,"c",(function(){return l})),t.d(a,"d",(function(){return m})),t.d(a,"f",(function(){return f})),t.d(a,"e",(function(){return p})),t.d(a,"b",(function(){return b})),t.d(a,"a",(function(){return E}));var n=t(611),r=t.n(n),c=t(612),i=t(214),o=t(614),u=t.n(o);function l(e){var a=u.a.stringify(e);return i.a.get("/empresas?"+a)}function s(e){return e.replaceAll("-","").replaceAll("/","").replaceAll(".","")}function d(e){return e.replaceAll("-","").replaceAll(" ","").replaceAll(")","").replaceAll("(","")}function m(e){return e.cnpj=s(e.cnpj),e.telefone=d(e.telefone),i.a.post("/empresas",e)}function f(e,a){a.cnpj=s(a.cnpj),a.telefone=d(a.telefone);var t="/empresas/"+e;return i.a.put(t,a)}function p(e){var a="/empresas/"+e;return i.a.delete(a)}function b(e){var a="/empresas/"+e;return i.a.get(a)}function E(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/empresas/busca-para-autocomplete?termo="+a);case 2:return t=e.sent,e.abrupt("return",t.data.map((function(e){return{value:e.id,label:"".concat(e.id," - ").concat(e.nome)}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},610:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"d",(function(){return c})),t.d(a,"c",(function(){return i})),t.d(a,"b",(function(){return o}));var n=t(625);function r(e){return n.DateTime.fromFormat(e,"dd/MM/yyyy").isValid}function c(e){return n.DateTime.fromFormat(e,"dd/MM/yyyy").toISODate()}function i(e){return n.DateTime.fromISO(e).toFormat("dd/MM/yyyy")}function o(e){return n.DateTime.fromFormat(e,"H:mm").isValid}},617:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(601),i=t(602),o=t(607);a.a=function(e){var a=e.isSubmitting;return r.a.createElement(c.a,null,r.a.createElement(i.a,{sm:12},r.a.createElement(o.a,{type:"submit",color:"success",className:"float-right",disabled:a},"Salvar")))}},618:function(e,a,t){"use strict";t.d(a,"b",(function(){return u})),t.d(a,"c",(function(){return l})),t.d(a,"e",(function(){return m})),t.d(a,"a",(function(){return f})),t.d(a,"d",(function(){return p}));var n=t(613),r=t(214),c=t(610),i=t(626),o=t.n(i);function u(e){var a=e.pageRequest,t=e.empresaId;return r.a.get("/linhas",{params:Object(n.a)(Object(n.a)({},a),{},{empresaId:t})})}function l(e){return d(e=o.a.cloneDeep(e)),r.a.post("/linhas",e)}function s(e){return Object(c.b)(e.partida)&&Object(c.b)(e.chegada)}function d(e){e.diasUnicos=e.diasUnicos.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{horarios:e.horarios.filter(s)})})).filter((function(e){return Object(c.a)(e.data)&&0!==e.horarios.length})).map((function(e){return Object(n.a)(Object(n.a)({},e),{},{data:Object(c.d)(e.data)})})),e.segunda=e.segunda.filter(s),e.terca=e.terca.filter(s),e.quarta=e.quarta.filter(s),e.quinta=e.quinta.filter(s),e.sexta=e.sexta.filter(s),e.sabado=e.sabado.filter(s),e.domingo=e.domingo.filter(s)}function m(e,a){return d(a=o.a.cloneDeep(a)),r.a.put("".concat("/linhas","/").concat(e),a)}function f(e){return r.a.get("".concat("/linhas","/consulta-para-editar/").concat(e))}function p(e){var a="/linhas/"+e;return r.a.delete(a)}},619:function(e,a,t){"use strict";function n(){return{partida:"",chegada:""}}function r(){return{data:"",horarios:[{partida:"",chegada:""}]}}t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return r}))},627:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(125),r=t(601),c=t(602),i=t(607),o=t(216),u=t(0),l=t.n(u);function s(e){var a=e.formModel;return l.a.createElement(l.a.Fragment,null,[{id:"segunda",nome:"Segunda-Feira"},{id:"terca",nome:"Ter\xe7a-Feira"},{id:"quarta",nome:"Quarta-Feira"},{id:"quinta",nome:"Quinta-Feira"},{id:"sexta",nome:"Sexta-Feira"},{id:"sabado",nome:"S\xe1bado-Feira"},{id:"domingo",nome:"Domingo"}].map((function(e){return l.a.createElement(r.a,{key:e.id,className:"mt-3"},l.a.createElement(c.a,{sm:12},l.a.createElement("h5",null,e.nome),l.a.createElement("hr",null),l.a.createElement(d,{diaDaSemana:e,formModel:a})))})))}function d(e){var a=e.diaDaSemana,t=e.formModel[a.id];return l.a.createElement(n.a,{name:a.id},(function(e){var n=e.insert,u=e.push,s=e.remove;return 0===t.length&&u({partida:"",chegada:""}),l.a.createElement(l.a.Fragment,null,t.map((function(e,t){return l.a.createElement(r.a,{key:t,className:"mb-2"},l.a.createElement(c.a,{sm:1},l.a.createElement(i.a,{type:"button",color:"success",onClick:function(){n(t+1,{partida:"",chegada:""})}},"+")),l.a.createElement(c.a,{sm:5},l.a.createElement(o.a,{id:"".concat(a.id,"[").concat(t,"].partida"),placeholder:"Partida",type:"text",mask:"99:99"})),l.a.createElement(c.a,{sm:5},l.a.createElement(o.a,{id:"".concat(a.id,"[").concat(t,"].chegada"),placeholder:"Chegada",type:"text",mask:"99:99"})),l.a.createElement(c.a,{sm:1},l.a.createElement(i.a,{type:"button",color:"danger",onClick:function(){return s(t)}},"x")))})))}))}},628:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));var n=t(0),r=t.n(n),c=t(619),i=t(125),o=t(601),u=t(602),l=t(607),s=t(216);function d(e){var a=e.formModel;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"mt-3"},r.a.createElement(u.a,{sm:12},r.a.createElement("h5",null,"Dias \xdanicos"),r.a.createElement("hr",null))),r.a.createElement(i.a,{name:"diasUnicos"},(function(e){var t=e.insert,n=e.push,i=e.remove;return 0===a.diasUnicos.length&&n(Object(c.a)()),a.diasUnicos.map((function(e,a){return r.a.createElement("div",{key:"diasUnicos.".concat(a)},r.a.createElement(o.a,{className:"mb-2"},r.a.createElement(u.a,{md:1},r.a.createElement(l.a,{type:"button",color:"success",onClick:function(){t(a+1,Object(c.a)())}},"+")),r.a.createElement(u.a,{md:10},r.a.createElement(s.a,{id:"diasUnicos[".concat(a,"].data"),placeholder:"Data",mask:"99/99/9999",type:"text"})),r.a.createElement(u.a,{md:1},r.a.createElement(l.a,{type:"button",color:"danger",onClick:function(){return i(a)}},"x"))),r.a.createElement(m,{diaUnicoIndex:a,diaUnico:e}))}))})))}function m(e){var a=e.diaUnicoIndex,t=e.diaUnico;return r.a.createElement(i.a,{name:"diasUnicos[".concat(a,"].horarios")},(function(e){var n=e.insert,i=e.push,d=e.remove;return 0===t.horarios.length&&i(Object(c.a)()),r.a.createElement("div",null,t.horarios.map((function(e,t){return r.a.createElement(o.a,{key:t,className:"mb-2"},r.a.createElement(u.a,{sm:{size:1,offset:2}},r.a.createElement(l.a,{type:"button",color:"success",onClick:function(){n(t+1,Object(c.b)())}},"+")),r.a.createElement(u.a,{sm:3},r.a.createElement(s.a,{id:"diasUnicos[".concat(a,"].horarios[").concat(t,"].partida"),placeholder:"Partida",type:"text",mask:"99:99"})),r.a.createElement(u.a,{sm:3},r.a.createElement(s.a,{id:"diasUnicos[".concat(a,"].horarios[").concat(t,"].chegada"),placeholder:"Chegada",type:"text",mask:"99:99"})),r.a.createElement(u.a,{sm:1},r.a.createElement(l.a,{type:"button",color:"danger",onClick:function(){return d(t)}},"x")))})))}))}},629:function(e,a,t){"use strict";t.d(a,"a",(function(){return i})),t.d(a,"b",(function(){return o}));var n=t(128),r=t(610);function c(){var e=n.a.string().optional().test("is-valid-time","Hor\xe1rio \xe9 inv\xe1lido",(function(e){return void 0===e||("__:__"===e||Object(r.b)(e))}));return n.a.object().shape({chegada:e,partida:e})}function i(){return n.a.array().of(c())}function o(){return n.a.array().of(n.a.object().shape({data:n.a.string().optional().test("is-date-valid","Data inv\xe1lida",(function(e){return void 0===e||("__/__/____"===e||Object(r.a)(e))})),horarios:n.a.array().of(c())}))}},642:function(e,a,t){"use strict";var n=t(3),r=t(8),c=t(0),i=t.n(c),o=t(2),u=t.n(o),l=t(13),s=t.n(l),d=t(5),m={children:u.a.node,row:u.a.bool,check:u.a.bool,inline:u.a.bool,disabled:u.a.bool,tag:d.h,className:u.a.string,cssModule:u.a.object},f=function(e){var a=e.className,t=e.cssModule,c=e.row,o=e.disabled,u=e.check,l=e.inline,m=e.tag,f=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),p=Object(d.e)(s()(a,!!c&&"row",u?"form-check":"form-group",!(!u||!l)&&"form-check-inline",!(!u||!o)&&"disabled"),t);return"fieldset"===m&&(f.disabled=o),i.a.createElement(m,Object(n.a)({},f,{className:p}))};f.propTypes=m,f.defaultProps={tag:"div"},a.a=f},678:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return F}));var n=t(126),r=t(0),c=t.n(r),i=t(125),o=t(618),u=t(619),l=t(218),s=t(608),d=t(606),m=t(601),f=t(602),p=t(642),b=t(664),E=t(627),h=t(617),g=t(645),v=function(e){var a=e.id,t=e.loadOptions,r=Object(i.c)(a),o=Object(n.a)(r,3),u=o[0],l=o[1],s=o[2],d=function(){return!(!l.touched||!l.error)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{cacheOptions:!0,name:u.name,id:u.name,loadOptions:t,onChange:function(e){return s.setValue(e.value)},onBlur:u.onBlur,invalid:d()}),d()?c.a.createElement("small",{style:{marginLeft:"5px"},className:"text-danger"},l.error,"    "):null)},O=t(609),j=t(611),y=t.n(j),k=t(612),x=t(214);function M(e){return D.apply(this,arguments)}function D(){return(D=Object(k.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/cidades","/busca-por-nome"),{params:{nome:a}});case 2:return t=e.sent,e.abrupt("return",t.data.map((function(e){return{value:e.id,label:"".concat(e.id," - ").concat(e.nome," - ").concat(e.estadoUf)}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=t(628),S=t(128),U=t(629);function F(e){var a=e.history,t=Object(r.useState)(void 0),m=Object(n.a)(t,2),f=m[0],p=m[1],b={empresaId:"",rotaOrigemId:"",rotaDestinoId:"",diasUnicos:[Object(u.a)()],segunda:[Object(u.b)()],terca:[Object(u.b)()],quarta:[Object(u.b)()],quinta:[Object(u.b)()],sexta:[Object(u.b)()],sabado:[Object(u.b)()],domingo:[Object(u.b)()]},g=S.a.object().shape({empresaId:S.a.string().required(),rotaOrigemId:S.a.string().required(),rotaDestinoId:S.a.string().required(),diasUnicos:Object(U.b)(),segunda:Object(U.a)(),terca:Object(U.a)(),quarta:Object(U.a)(),quinta:Object(U.a)(),sexta:Object(U.a)(),sabado:Object(U.a)(),domingo:Object(U.a)()}),v=c.a.createElement(c.a.Fragment,null,"Cadastro de Linhas");return c.a.createElement(s.a,{header:v,alertModel:f},c.a.createElement(i.b,{onSubmit:function(e,t){var n=t.setSubmitting;return p(void 0),Object(o.c)(e).then((function(){a.push("/linhas")})).catch((function(e){p(Object(l.a)(e)),n(!1)}))},initialValues:b,validationSchema:g},(function(e){var a=e.handleSubmit,t=e.isSubmitting,n=e.values;return c.a.createElement(d.a,{onSubmit:a},c.a.createElement(q,null),c.a.createElement(_,null),c.a.createElement(E.a,{formModel:n}),c.a.createElement(I.a,{formModel:n}),c.a.createElement(h.a,{isSubmitting:t}))})))}function q(){return c.a.createElement(m.a,null,c.a.createElement(f.a,{sm:12},c.a.createElement(p.a,null,c.a.createElement(b.a,{for:"empresaId"},"Empresa"),c.a.createElement(v,{loadOptions:O.a,id:"empresaId"}))))}function _(){return c.a.createElement(m.a,null,c.a.createElement(f.a,{sm:6},c.a.createElement(p.a,null,c.a.createElement(b.a,{for:"cidade_partida"},"Cidade de Partida"),c.a.createElement(v,{loadOptions:M,id:"rotaOrigemId"}))),c.a.createElement(f.a,{sm:6},c.a.createElement(p.a,null,c.a.createElement(b.a,{for:"cidade_destino"},"Cidade de Destino"),c.a.createElement(v,{loadOptions:M,id:"rotaDestinoId"}))))}}}]);
//# sourceMappingURL=10.6cbed1a0.chunk.js.map