(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{608:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(601),i=t(602),o=t(604),l=t(635),u=t(605),m=t(217);a.a=function(e){var a=e.header,t=e.children,n=e.alertModel;return r.a.createElement("div",{className:"animated fadeIn"},r.a.createElement(c.a,null,r.a.createElement(i.a,{xs:"12",sm:"12"},r.a.createElement(o.a,null,r.a.createElement(l.a,null,a),r.a.createElement(u.a,null,r.a.createElement(m.a,{alertModel:n}),t)))))}},610:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"d",(function(){return c})),t.d(a,"c",(function(){return i})),t.d(a,"b",(function(){return o}));var n=t(625);function r(e){return n.DateTime.fromFormat(e,"dd/MM/yyyy").isValid}function c(e){return n.DateTime.fromFormat(e,"dd/MM/yyyy").toISODate()}function i(e){return n.DateTime.fromISO(e).toFormat("dd/MM/yyyy")}function o(e){return n.DateTime.fromFormat(e,"H:mm").isValid}},617:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(601),i=t(602),o=t(607);a.a=function(e){var a=e.isSubmitting;return r.a.createElement(c.a,null,r.a.createElement(i.a,{sm:12},r.a.createElement(o.a,{type:"submit",color:"success",className:"float-right",disabled:a},"Salvar")))}},618:function(e,a,t){"use strict";t.d(a,"b",(function(){return l})),t.d(a,"c",(function(){return u})),t.d(a,"e",(function(){return d})),t.d(a,"a",(function(){return f})),t.d(a,"d",(function(){return b}));var n=t(613),r=t(214),c=t(610),i=t(626),o=t.n(i);function l(e){var a=e.pageRequest,t=e.empresaId;return r.a.get("/linhas",{params:Object(n.a)(Object(n.a)({},a),{},{empresaId:t})})}function u(e){return s(e=o.a.cloneDeep(e)),r.a.post("/linhas",e)}function m(e){return Object(c.b)(e.partida)&&Object(c.b)(e.chegada)}function s(e){e.diasUnicos=e.diasUnicos.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{horarios:e.horarios.filter(m)})})).filter((function(e){return Object(c.a)(e.data)&&0!==e.horarios.length})).map((function(e){return Object(n.a)(Object(n.a)({},e),{},{data:Object(c.d)(e.data)})})),e.segunda=e.segunda.filter(m),e.terca=e.terca.filter(m),e.quarta=e.quarta.filter(m),e.quinta=e.quinta.filter(m),e.sexta=e.sexta.filter(m),e.sabado=e.sabado.filter(m),e.domingo=e.domingo.filter(m)}function d(e,a){return s(a=o.a.cloneDeep(a)),r.a.put("".concat("/linhas","/").concat(e),a)}function f(e){return r.a.get("".concat("/linhas","/consulta-para-editar/").concat(e))}function b(e){var a="/linhas/"+e;return r.a.delete(a)}},619:function(e,a,t){"use strict";function n(){return{partida:"",chegada:""}}function r(){return{data:"",horarios:[{partida:"",chegada:""}]}}t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return r}))},624:function(e,a,t){"use strict";t.d(a,"a",(function(){return u}));var n=t(127),r=t(642),c=t(664),i=t(0),o=t.n(i),l=t(216);function u(e){var a=e.label,t=e.id,i=Object(n.a)(e,["label","id"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,null,o.a.createElement(c.a,{for:t,className:"label-color"},a),o.a.createElement(l.a,Object.assign({},i,{id:t}))))}},627:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n=t(125),r=t(601),c=t(602),i=t(607),o=t(216),l=t(0),u=t.n(l);function m(e){var a=e.formModel;return u.a.createElement(u.a.Fragment,null,[{id:"segunda",nome:"Segunda-Feira"},{id:"terca",nome:"Ter\xe7a-Feira"},{id:"quarta",nome:"Quarta-Feira"},{id:"quinta",nome:"Quinta-Feira"},{id:"sexta",nome:"Sexta-Feira"},{id:"sabado",nome:"S\xe1bado-Feira"},{id:"domingo",nome:"Domingo"}].map((function(e){return u.a.createElement(r.a,{key:e.id,className:"mt-3"},u.a.createElement(c.a,{sm:12},u.a.createElement("h5",null,e.nome),u.a.createElement("hr",null),u.a.createElement(s,{diaDaSemana:e,formModel:a})))})))}function s(e){var a=e.diaDaSemana,t=e.formModel[a.id];return u.a.createElement(n.a,{name:a.id},(function(e){var n=e.insert,l=e.push,m=e.remove;return 0===t.length&&l({partida:"",chegada:""}),u.a.createElement(u.a.Fragment,null,t.map((function(e,t){return u.a.createElement(r.a,{key:t,className:"mb-2"},u.a.createElement(c.a,{sm:1},u.a.createElement(i.a,{type:"button",color:"success",onClick:function(){n(t+1,{partida:"",chegada:""})}},"+")),u.a.createElement(c.a,{sm:5},u.a.createElement(o.a,{id:"".concat(a.id,"[").concat(t,"].partida"),placeholder:"Partida",type:"text",mask:"99:99"})),u.a.createElement(c.a,{sm:5},u.a.createElement(o.a,{id:"".concat(a.id,"[").concat(t,"].chegada"),placeholder:"Chegada",type:"text",mask:"99:99"})),u.a.createElement(c.a,{sm:1},u.a.createElement(i.a,{type:"button",color:"danger",onClick:function(){return m(t)}},"x")))})))}))}},628:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(0),r=t.n(n),c=t(619),i=t(125),o=t(601),l=t(602),u=t(607),m=t(216);function s(e){var a=e.formModel;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"mt-3"},r.a.createElement(l.a,{sm:12},r.a.createElement("h5",null,"Dias \xdanicos"),r.a.createElement("hr",null))),r.a.createElement(i.a,{name:"diasUnicos"},(function(e){var t=e.insert,n=e.push,i=e.remove;return 0===a.diasUnicos.length&&n(Object(c.a)()),a.diasUnicos.map((function(e,a){return r.a.createElement("div",{key:"diasUnicos.".concat(a)},r.a.createElement(o.a,{className:"mb-2"},r.a.createElement(l.a,{md:1},r.a.createElement(u.a,{type:"button",color:"success",onClick:function(){t(a+1,Object(c.a)())}},"+")),r.a.createElement(l.a,{md:10},r.a.createElement(m.a,{id:"diasUnicos[".concat(a,"].data"),placeholder:"Data",mask:"99/99/9999",type:"text"})),r.a.createElement(l.a,{md:1},r.a.createElement(u.a,{type:"button",color:"danger",onClick:function(){return i(a)}},"x"))),r.a.createElement(d,{diaUnicoIndex:a,diaUnico:e}))}))})))}function d(e){var a=e.diaUnicoIndex,t=e.diaUnico;return r.a.createElement(i.a,{name:"diasUnicos[".concat(a,"].horarios")},(function(e){var n=e.insert,i=e.push,s=e.remove;return 0===t.horarios.length&&i(Object(c.a)()),r.a.createElement("div",null,t.horarios.map((function(e,t){return r.a.createElement(o.a,{key:t,className:"mb-2"},r.a.createElement(l.a,{sm:{size:1,offset:2}},r.a.createElement(u.a,{type:"button",color:"success",onClick:function(){n(t+1,Object(c.b)())}},"+")),r.a.createElement(l.a,{sm:3},r.a.createElement(m.a,{id:"diasUnicos[".concat(a,"].horarios[").concat(t,"].partida"),placeholder:"Partida",type:"text",mask:"99:99"})),r.a.createElement(l.a,{sm:3},r.a.createElement(m.a,{id:"diasUnicos[".concat(a,"].horarios[").concat(t,"].chegada"),placeholder:"Chegada",type:"text",mask:"99:99"})),r.a.createElement(l.a,{sm:1},r.a.createElement(u.a,{type:"button",color:"danger",onClick:function(){return s(t)}},"x")))})))}))}},629:function(e,a,t){"use strict";t.d(a,"a",(function(){return i})),t.d(a,"b",(function(){return o}));var n=t(128),r=t(610);function c(){var e=n.a.string().optional().test("is-valid-time","Hor\xe1rio \xe9 inv\xe1lido",(function(e){return void 0===e||("__:__"===e||Object(r.b)(e))}));return n.a.object().shape({chegada:e,partida:e})}function i(){return n.a.array().of(c())}function o(){return n.a.array().of(n.a.object().shape({data:n.a.string().optional().test("is-date-valid","Data inv\xe1lida",(function(e){return void 0===e||("__/__/____"===e||Object(r.a)(e))})),horarios:n.a.array().of(c())}))}},642:function(e,a,t){"use strict";var n=t(3),r=t(8),c=t(0),i=t.n(c),o=t(2),l=t.n(o),u=t(13),m=t.n(u),s=t(5),d={children:l.a.node,row:l.a.bool,check:l.a.bool,inline:l.a.bool,disabled:l.a.bool,tag:s.h,className:l.a.string,cssModule:l.a.object},f=function(e){var a=e.className,t=e.cssModule,c=e.row,o=e.disabled,l=e.check,u=e.inline,d=e.tag,f=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),b=Object(s.e)(m()(a,!!c&&"row",l?"form-check":"form-group",!(!l||!u)&&"form-check-inline",!(!l||!o)&&"disabled"),t);return"fieldset"===d&&(f.disabled=o),i.a.createElement(d,Object(n.a)({},f,{className:b}))};f.propTypes=d,f.defaultProps={tag:"div"},a.a=f},673:function(e,a,t){"use strict";t.r(a);var n=t(126),r=t(0),c=t.n(r),i=t(125),o=t(618),l=t(619),u=t(218),m=t(608),s=t(606),d=t(601),f=t(602),b=t(642),E=t(624),h=t(627),p=t(617),g=t(628),j=t(128),O=t(629),v=t(610);function y(){return c.a.createElement(d.a,null,c.a.createElement(f.a,{sm:6},c.a.createElement(b.a,null,c.a.createElement(E.a,{label:"Cidade de Partida",id:"rotaOrigemNome",disabled:!0}))),c.a.createElement(f.a,{sm:6},c.a.createElement(b.a,null,c.a.createElement(E.a,{label:"Cidade de Destino",id:"rotaDestinoNome",name:"rotaDestinoNome",disabled:!0}))))}a.default=function(e){var a=e.history,t=e.match.params.id,k=Object(r.useState)(!0),N=Object(n.a)(k,2),S=N[0],M=N[1],x=Object(r.useState)(void 0),D=Object(n.a)(x,2),U=D[0],F=D[1],_=Object(r.useState)({diasUnicos:[Object(l.a)()],empresaNome:"",rotaDestinoNome:"",rotaOrigemNome:"",segunda:[Object(l.b)()],terca:[Object(l.b)()],quarta:[Object(l.b)()],quinta:[Object(l.b)()],sexta:[Object(l.b)()],sabado:[Object(l.b)()],domingo:[Object(l.b)()]}),q=Object(n.a)(_,2),C=q[0],I=q[1],w=j.a.object().shape({diasUnicos:Object(O.b)(),segunda:Object(O.a)(),terca:Object(O.a)(),quarta:Object(O.a)(),quinta:Object(O.a)(),sexta:Object(O.a)(),sabado:Object(O.a)(),domingo:Object(O.a)()});Object(r.useEffect)((function(){Object(o.a)(t).then((function(e){e.data.diasUnicos.forEach((function(e){e.data=Object(v.c)(e.data)})),I(e.data),M(!1)})).catch((function(e){F(Object(u.a)(e))}))}),[t]);var T=c.a.createElement(c.a.Fragment,null,"Edita Linhas");return S?c.a.createElement("div",null):c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{alertModel:U,header:T},c.a.createElement(i.b,{validationSchema:w,initialValues:C,onSubmit:function(e,n){var r=n.setSubmitting;return F(void 0),Object(o.e)(t,e).then((function(){a.push("/linhas/")})).catch((function(e){F(Object(u.a)(e)),r(!1)}))}},(function(e){var a=e.handleSubmit,t=e.isSubmitting,n=e.values;return c.a.createElement(s.a,{onSubmit:a},c.a.createElement(d.a,null,c.a.createElement(f.a,{sm:12},c.a.createElement(b.a,null,c.a.createElement(E.a,{label:"Empresa",id:"empresaNome",name:"empresaNome",disabled:!0})))),c.a.createElement(y,null),c.a.createElement(h.a,{formModel:n}),c.a.createElement(g.a,{formModel:n}),c.a.createElement(p.a,{isSubmitting:t}))}))))}}}]);
//# sourceMappingURL=9.05765b2a.chunk.js.map